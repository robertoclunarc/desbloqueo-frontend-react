type Country 
  @model @auth(rules: [{ allow: public, provider: iam }]) 
  @key(name: "byDrSimID", fields: ["drSimID"]) {
  id: ID!
  drSimID: String
  name: String!
  networks: [Network] @connection(keyName: "byCountry", fields: ["id"])
}
type Network 
  @model @auth(rules: [{ allow: public, provider: iam }]) 
  @key(name: "byCountry", fields: ["countryID", "id", "name"]) 
  @key(name: "byDrSimID", fields: ["drSimID"]) {
  id: ID!
  countryID: ID!
  drSimID: String
  name: String!
  country: Country @connection(fields: ["countryID"])
}

type Brand 
  @model @auth(rules: [{ allow: public, provider: iam }]) 
  @key(name: "byDrSimID", fields: ["drSimID"]) {
  id: ID!
  drSimID: String
  name: String!
  description: String
  devices: [Device]  @connection(keyName: "byBrand", fields: ["id"])
}
type Device 
  @model @auth(rules: [{ allow: public, provider: iam }])
  @key(name: "byBrand", fields: ["brandID", "id", "name"]) 
  @key(name: "byDrSimID", fields: ["drSimID"]) {
  id: ID!
  brandID: ID!
  drSimID: String
  name: String!
  image: String
  description: String
  brand: Brand @connection(fields: ["brandID"])
}

input CreateCountryInput {
  id: ID
  drSimID: String
  name: String!
  networks: [CreateNetworkInput]
}

input CreateNetworkInput {
  id: ID
  countryID: ID!
  drSimID: String
  name: String!
  country: CreateCountryInput
}

input CreateBrandInput {
  id: ID
  drSimID: String
  name: String!
  description: String
  devices: [CreateDeviceInput]
}

input CreateDeviceInput {
  id: ID
  brandID: ID!
  drSimID: String
  name: String!
  image: String
  description: String
  brand: CreateBrandInput 
}

type Mutation {
  batchCreateCountries (countries: [CreateCountryInput!]): [Country]
  batchCreateNetworks (networks: [CreateNetworkInput!]): [Network]
  batchCreateBrands (brands: [CreateBrandInput!]): [Brand]
  batchCreateDevices (Devices: [CreateDeviceInput!]): [Device]
}